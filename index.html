<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>å‚»æ¯”åé€£æŠ½å¡æ± ï¼ˆè¶…ç©©å®šç‰ˆï¼‰</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .card { transform-style: preserve-3d; transition: transform .6s; }
    .card.revealed { transform: rotateY(180deg); }
    .face { backface-visibility: hidden; }
    .back { transform: rotateY(0); }
    .front { transform: rotateY(180deg); }
    .pulse { animation: pulse 1.2s infinite alternate; }
    @keyframes pulse { from { transform: scale(1); } to { transform: scale(1.05); } }
  </style>
</head>
<body class="bg-slate-100 min-h-screen">
  <div class="max-w-3xl mx-auto p-6 text-slate-900">
    <header class="text-center mb-6">
      <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">ğŸ° å‚»æ¯”åé€£æŠ½å¡æ± </h1>
      <p class="text-slate-600 mt-2">ä¸€æ¬¡åæŠ½ï¼Œä¿åº•å¯æ„›ï¼‹æ²™é›•ï¼‹ä¸­äºŒå„ä¸€å¼µï¼</p>
    </header>

    <div class="flex flex-col sm:flex-row gap-3 justify-center mb-6">
      <button id="rollBtn" class="px-5 py-3 rounded-2xl shadow bg-black text-white disabled:opacity-60">é–‹å§‹åé€£æŠ½</button>
      <button id="copyBtn" class="px-5 py-3 rounded-2xl shadow border border-slate-300 bg-white">è¤‡è£½çµæœ</button>
    </div>

    <div id="grid" class="grid grid-cols-2 md:grid-cols-5 gap-3"></div>

    <div id="stats" class="mt-8 bg-white rounded-2xl shadow p-4 hidden">
      <h2 class="font-bold text-lg mb-2">çµæœçµ±è¨ˆ</h2>
      <ul class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm" id="statList"></ul>
    </div>

    <footer class="text-center text-xs text-slate-500 mt-8">
      Made for å‚»æ¯” Â· é€™æ˜¯ä½ çš„å°ˆå±¬å¡æ±  âœ¨
    </footer>
  </div>

  <script>
    const CARD_POOL = {
      "å¯æ„›å¡ ğŸ¾": [
        "å–µï½å¿«æŠ±æˆ‘ï¼Œä¸ç„¶æˆ‘è¦æ»¾åœ°æ¿äº†ï¼",
        "è‚‰çƒåªçµ¦ä½ æ‘¸å–µï¼",
        "ä»Šå¤©çš„å¯æ„›é…é¡åªçµ¦ä½ ï¼",
        "é éä¾†ï¼Œè®“æˆ‘ç”¨å°è…¦è¢‹æ‹±ä½ ä¸€ä¸‹ï½",
        "æœ¬å–µä»Šå¤©ä¹Ÿè¦æŠŠä½ å ç‚ºå·±æœ‰ âœ§"
      ],
      "æ²™é›•å¡ ğŸ¤£": [
        "æˆ‘ä¸æ˜¯å‚»ï¼Œæˆ‘åªæ˜¯å¿«æ¨‚éé‡ã€‚",
        "äººå®¶åªæ˜¯è‚šå­åœ¨ä¿®ç…‰ï¼Œä¸æ˜¯èƒ–ï¼",
        "ä½ è¦æ˜¯ä¸ç¬‘ï¼Œæˆ‘å°±è£æ­»çµ¦ä½ çœ‹ (x_x)",
        "ä»Šå¤©ä¸æç¬‘èº«é«”æœƒç¼ºéˆ£ï¼",
        "æˆ‘åœ¨ç¯€é£Ÿâ€”â€”ç¯€çš„æ˜¯ç†æ™ºé£Ÿã€‚"
      ],
      "ä¸­äºŒå¡ âš¡": [
        "é»‘æš—åœ¨å‘¼å–šï¼Œè€Œæˆ‘å›æ‡‰äº†å®ƒã€‚",
        "æ˜Ÿè¾°çš†å¢œè½ï¼Œå”¯æˆ‘ä»ç‹‚èˆï¼",
        "ä¸–ç•Œçš„ç›¡é ­ï¼Œåˆ»è‘—å‚»æ¯”çš„åå­—ã€‚",
        "é¢¨æš´å› æˆ‘è€Œç”Ÿï¼Œå¯‚éœç‚ºæˆ‘è®“é“ã€‚",
        "å…‰èˆ‡å½±çš„ç•Œç·šï¼Œå³æ˜¯æˆ‘çš„ç–†åŸŸã€‚"
      ],
      "é©šå–œå¡ ğŸŒˆ": [
        "ä»Šå¤©æœƒæœ‰å¥½é‹é™è‡¨ï¼Œå› ç‚ºä½ æŠ½åˆ°æˆ‘å•¦ï½",
        "ç§˜å¯†å¡ï¼šå¿«å»å–æ°´ï¼",
        "éš±è—Bosså¡ï¼šå‚»æ¯”è¶…é€²åŒ–ï¼",
        "åŠ åˆ†å¡ï¼šç¾åœ¨å»å‚³è¨Šæ¯çµ¦ä¸€å€‹æœ‹å‹ï½",
        "ä¼‘æ¯å¡ï¼šä¼¸å€‹æ‡¶è…°å†æŠ½ä¸€æ¬¡ï¼"
      ]
    };
    const CATEGORIES = Object.keys(CARD_POOL);
    const grid = document.getElementById("grid");
    const stats = document.getElementById("stats");
    const statList = document.getElementById("statList");
    const rollBtn = document.getElementById("rollBtn");
    const copyBtn = document.getElementById("copyBtn");

    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)] }
    function drawTen(){
      const res = [];
      ["å¯æ„›å¡ ğŸ¾","æ²™é›•å¡ ğŸ¤£","ä¸­äºŒå¡ âš¡"].forEach(k=>{
        res.push({category:k, text:pick(CARD_POOL[k])});
      });
      while(res.length<10){
        const cat = pick(CATEGORIES);
        res.push({category:cat, text:pick(CARD_POOL[cat])});
      }
      return res;
    }

    function badgeClass(cat){
      if(cat.includes("å¯æ„›")) return "bg-pink-100 text-pink-700";
      if(cat.includes("æ²™é›•")) return "bg-yellow-100 text-yellow-700";
      if(cat.includes("ä¸­äºŒ")) return "bg-purple-100 text-purple-700";
      return "bg-emerald-100 text-emerald-700";
    }

    function renderCards(results){
      grid.innerHTML = "";
      results.forEach((card, i)=>{
        const wrapper = document.createElement("div");
        wrapper.className = "aspect-[3/4] bg-white rounded-2xl shadow relative overflow-hidden card";
        wrapper.style.transitionDelay = `${i*50}ms`;
        wrapper.innerHTML = `
          <div class="absolute inset-0 grid place-items-center bg-gradient-to-br from-slate-800 to-slate-900 text-white face back">
            <div class="text-2xl font-black tracking-widest pulse">S A B I I</div>
          </div>
          <div class="absolute inset-0 p-3 flex flex-col face front">
            <div class="px-2 py-1 rounded-xl text-xs font-semibold w-max ${badgeClass(card.category)}">${card.category}</div>
            <div class="mt-2 text-base leading-relaxed flex-1">${card.text}</div>
            <div class="mt-3 text-xs text-slate-400">#å‚»æ¯”å¡æ± </div>
          </div>
        `;
        grid.appendChild(wrapper);
        setTimeout(()=> wrapper.classList.add("revealed"), 1000 + i*50);
      });
    }

    function renderStats(results){
      const count = Object.fromEntries(CATEGORIES.map(c=>[c,0]));
      results.forEach(r=>count[r.category]++);
      statList.innerHTML = CATEGORIES.map(c=>`
        <li class="flex items-center justify-between border rounded-xl px-3 py-2">
          <span>${c}</span>
          <span class="font-mono">${count[c]}</span>
        </li>
      `).join("");
      stats.classList.remove("hidden");
    }

    let lastResults = null;
    rollBtn.addEventListener("click", ()=>{
      rollBtn.disabled = true;
      rollBtn.textContent = lastResults ? "å†æŠ½åé€£" : "æŠ½å¡ä¸­â€¦";
      const results = drawTen();
      lastResults = results;
      renderCards(results);
      renderStats(results);
      setTimeout(()=>{ rollBtn.disabled = false; rollBtn.textContent = "å†æŠ½åé€£"; }, 1300);
    });

    copyBtn.addEventListener("click", async ()=>{
      if(!lastResults) return;
      const lines = lastResults.map((r,i)=>`${i+1}. ${r.category}ï¼š${r.text}`).join("\n");
      try{
        await navigator.clipboard.writeText(`ğŸ° å‚»æ¯”åé€£æŠ½çµæœ\n${lines}`);
        alert("å·²è¤‡è£½çµæœåˆ°å‰ªè²¼ç°¿ï¼");
      }catch{ alert("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•é¸å–ã€‚"); }
    });

    // åˆå§‹æç¤º
    grid.innerHTML = '<div class="col-span-full text-center text-slate-500">æŒ‰ä¸‹ã€Œé–‹å§‹åé€£æŠ½ã€ï¼Œè®“å‘½é‹ç¿»ç‰Œ âœ¨</div>';
  </script>
</body>
</html>
